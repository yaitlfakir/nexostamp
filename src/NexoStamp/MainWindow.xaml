<Window x:Class="NexoStamp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NexoStamp"
        mc:Ignorable="d"
        Title="NexoStamp - Stamp Design Application" Height="700" Width="1200"
        WindowState="Maximized">
    <DockPanel>
        <!-- Menu Bar -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_New" Click="NewDesign_Click" InputGestureText="Ctrl+N"/>
                <MenuItem Header="_Open..." Click="OpenDesign_Click" InputGestureText="Ctrl+O"/>
                <MenuItem Header="_Save" Click="SaveDesign_Click" InputGestureText="Ctrl+S"/>
                <MenuItem Header="Save _As..." Click="SaveDesignAs_Click"/>
                <Separator/>
                <MenuItem Header="_Print Preview..." Click="PrintPreview_Click" InputGestureText="Ctrl+P"/>
                <MenuItem Header="Print..." Click="Print_Click"/>
                <Separator/>
                <MenuItem Header="E_xit" Click="Exit_Click"/>
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Header="_Undo" Click="Undo_Click" InputGestureText="Ctrl+Z" x:Name="UndoMenuItem"/>
                <MenuItem Header="_Redo" Click="Redo_Click" InputGestureText="Ctrl+Y" x:Name="RedoMenuItem"/>
                <Separator/>
                <MenuItem Header="_Delete" Click="Delete_Click" InputGestureText="Del"/>
                <MenuItem Header="_Duplicate" Click="Duplicate_Click" InputGestureText="Ctrl+D"/>
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Header="_About" Click="About_Click"/>
            </MenuItem>
        </Menu>

        <!-- Toolbar -->
        <ToolBar DockPanel.Dock="Top" Height="50">
            <Button Click="AddText_Click" ToolTip="Add Text" Padding="8">
                <StackPanel>
                    <TextBlock Text="T" FontSize="20" FontWeight="Bold"/>
                    <TextBlock Text="Text" FontSize="9"/>
                </StackPanel>
            </Button>
            <Separator/>
            <Button Click="AddRectangle_Click" ToolTip="Add Rectangle" Padding="8">
                <StackPanel>
                    <Rectangle Width="24" Height="18" Stroke="Black" StrokeThickness="2"/>
                    <TextBlock Text="Rectangle" FontSize="9"/>
                </StackPanel>
            </Button>
            <Button Click="AddCircle_Click" ToolTip="Add Circle" Padding="8">
                <StackPanel>
                    <Ellipse Width="24" Height="24" Stroke="Black" StrokeThickness="2"/>
                    <TextBlock Text="Circle" FontSize="9"/>
                </StackPanel>
            </Button>
            <Button Click="AddLine_Click" ToolTip="Add Line" Padding="8">
                <StackPanel>
                    <Line X1="0" Y1="12" X2="24" Y2="12" Stroke="Black" StrokeThickness="2"/>
                    <TextBlock Text="Line" FontSize="9"/>
                </StackPanel>
            </Button>
            <Separator/>
            <Label Content="Zoom:" VerticalAlignment="Center"/>
            <Slider x:Name="ZoomSlider" Width="150" Minimum="0.1" Maximum="3" Value="1" 
                    TickFrequency="0.1" ValueChanged="ZoomSlider_ValueChanged" 
                    VerticalAlignment="Center"/>
            <TextBlock x:Name="ZoomLabel" Text="100%" VerticalAlignment="Center" Margin="5,0"/>
        </ToolBar>

        <!-- Status Bar -->
        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>

        <!-- Main Content Area -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="250"/>
            </Grid.ColumnDefinitions>

            <!-- Design Canvas Area -->
            <Border Grid.Column="0" Background="#E0E0E0" Padding="10">
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                    <Border BorderBrush="Gray" BorderThickness="2" Background="White">
                        <Viewbox x:Name="CanvasViewbox" Stretch="Uniform">
                            <Canvas x:Name="DesignCanvas" 
                                    Width="400" Height="300" 
                                    Background="Black"
                                    MouseLeftButtonDown="DesignCanvas_MouseLeftButtonDown"
                                    MouseMove="DesignCanvas_MouseMove"
                                    MouseLeftButtonUp="DesignCanvas_MouseLeftButtonUp">
                            </Canvas>
                        </Viewbox>
                    </Border>
                </ScrollViewer>
            </Border>

            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch"/>

            <!-- Properties Panel -->
            <DockPanel Grid.Column="2" Background="#F5F5F5">
                <TextBlock DockPanel.Dock="Top" Text="Properties" FontSize="16" FontWeight="Bold" 
                           Padding="10" Background="#D0D0D0"/>
                <ScrollViewer>
                    <StackPanel x:Name="PropertiesPanel" Margin="10">
                        <TextBlock Text="No element selected" FontStyle="Italic" x:Name="NoSelectionText"/>
                        
                        <!-- Text Properties -->
                        <StackPanel x:Name="TextPropertiesPanel" Visibility="Collapsed">
                            <TextBlock Text="Text Properties" FontWeight="Bold" Margin="0,0,0,5"/>
                            <Label Content="Text:"/>
                            <TextBox x:Name="TextContentBox" TextChanged="TextContent_Changed"/>
                            
                            <Label Content="Font Family:" Margin="0,10,0,0"/>
                            <ComboBox x:Name="FontFamilyComboBox" SelectionChanged="FontFamily_Changed"/>
                            
                            <Label Content="Font Size:" Margin="0,10,0,0"/>
                            <Slider x:Name="FontSizeSlider" Minimum="8" Maximum="72" 
                                    TickFrequency="2" ValueChanged="FontSize_Changed"/>
                            <TextBlock x:Name="FontSizeLabel" TextAlignment="Center"/>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <CheckBox x:Name="BoldCheckBox" Content="Bold" Margin="0,0,10,0" 
                                          Checked="FontStyle_Changed" Unchecked="FontStyle_Changed"/>
                                <CheckBox x:Name="ItalicCheckBox" Content="Italic" 
                                          Checked="FontStyle_Changed" Unchecked="FontStyle_Changed"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Shape Properties -->
                        <StackPanel x:Name="ShapePropertiesPanel" Visibility="Collapsed">
                            <TextBlock Text="Shape Properties" FontWeight="Bold" Margin="0,0,0,5"/>
                            <Label Content="Stroke Thickness:" Margin="0,10,0,0"/>
                            <Slider x:Name="StrokeThicknessSlider" Minimum="1" Maximum="10" 
                                    TickFrequency="1" ValueChanged="StrokeThickness_Changed"/>
                            <TextBlock x:Name="StrokeThicknessLabel" TextAlignment="Center"/>
                        </StackPanel>

                        <!-- Common Properties -->
                        <StackPanel x:Name="CommonPropertiesPanel" Visibility="Collapsed">
                            <Label Content="Position:" Margin="0,10,0,0"/>
                            <StackPanel Orientation="Horizontal">
                                <Label Content="X:"/>
                                <TextBox x:Name="PositionXBox" Width="60" TextChanged="Position_Changed"/>
                                <Label Content="Y:" Margin="10,0,0,0"/>
                                <TextBox x:Name="PositionYBox" Width="60" TextChanged="Position_Changed"/>
                            </StackPanel>
                            
                            <Label Content="Size:" Margin="0,10,0,0"/>
                            <StackPanel Orientation="Horizontal">
                                <Label Content="W:"/>
                                <TextBox x:Name="WidthBox" Width="60" TextChanged="Size_Changed"/>
                                <Label Content="H:" Margin="10,0,0,0"/>
                                <TextBox x:Name="HeightBox" Width="60" TextChanged="Size_Changed"/>
                            </StackPanel>
                            
                            <Label Content="Rotation:" Margin="0,10,0,0"/>
                            <Slider x:Name="RotationSlider" Minimum="0" Maximum="360" 
                                    TickFrequency="15" ValueChanged="Rotation_Changed"/>
                            <TextBlock x:Name="RotationLabel" TextAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </DockPanel>
        </Grid>
    </DockPanel>
</Window>
